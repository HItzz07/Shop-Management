{% load static %}
<tr class="text-center">
    <td>{{ forloop.counter }}</td>
    <td>
    <input type="text" name="{{ subform.prefix }}-description" class="input input-sm input-bordered w-full" />
    </td>
    <td>
    <input type="number" name="{{ subform.prefix }}-quantity" class="input input-sm input-bordered w-full qty-input" />
    </td>
    <td>
    <input type="number" step="0.01" name="{{ subform.prefix }}-price" class="input input-sm input-bordered w-full rate-input" />
    </td>

    <td>
    <!-- auto-calculated later with JS -->
    <input type="text" class="input input-sm input-bordered w-full" readonly />
    </td>
    <td>
        <button type="button" class="btn btn-error btn-xs remove-row">Remove</button>
    </td>
</tr>

{% comment %} <script>
  // Delegate event listener for remove buttons
  document.addEventListener("click", function (e) {
    if (e.target && e.target.classList.contains("remove-row")) {
      let row = e.target.closest("tr");
      row.remove();

      // Update TOTAL_FORMS count so Django formset knows
      let totalForms = document.getElementById("id_form-TOTAL_FORMS");
      totalForms.value = document.querySelectorAll("#bill-items tr").length;
    }
  });

</script> {% endcomment %}